<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Online Book Store</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='home.css') }}">
</head>
<body>

  <!-- Navigation Bar -->
  <header>
    <div class="navbar">
      <div class="logo">Encore Library</div>
      <ul class="menu">
        <li><a href="{{ url_for('home') }}">Home</a></li>
        <li class="dropdown">
        <a href="#">Book Category ‚ñº</a>
        <ul class="dropdown-menu">
           <li><a href="{{ url_for('computer') }}">Computer Engineering</a></li>
            <li><a href="{{ url_for('electronics') }}">Electronics Engineering</a></li>
            <li><a href="{{ url_for('mechanical') }}">Mechanical Engineering</a></li>
            <li><a href="{{ url_for('it') }}">Information_Technology</a></li>
            <li><a href="{{ url_for('civil') }}">Civil Engineering</a></li>
            <li><a href="{{ url_for('aerospace') }}">Aerospace Engineering</a></li>
            <li><a href="{{ url_for('chemical') }}">Chemical Engineering</a></li>
            <li><a href="{{ url_for('automobile') }}">Automobile Engineering</a></li>
            <li><a href="{{ url_for('biomedical') }}">Biomedical Engineering</a></li>

        </ul>
        </li>
        
        <li><a href="{{ url_for('about') }}">About Us</a></li>
        <li><a href="{{ url_for('faqs') }}">FAQs</a></li>  
        <li><a href="{{ url_for('feedback') }}">Feedback</a></li> 
        
      </ul>
      <div class="search-cart">
        <input type="text" id="searchInput" placeholder="Search book here" autocomplete="off">
        <button id="searchBtn">üîç</button>
        <ul id="suggestionsList" class="suggestions"></ul>
        <div class="dropdown">
          <a href="{{ url_for('profile') }}" class="dropbtn">My Account ‚ñº</a>
          <div class="dropdown-content">
            <a href="{{ url_for('profile') }}">My Profile</a>
            <a href="{{ url_for('dashboard') }}">My Dashboard</a>
            <a href="{{ url_for('wishlist') }}">My Wishlist</a>
            <a href="{{ url_for('orders') }}">My Orders</a>
            <a href="{{ url_for('change_password') }}">Change Password</a>
            <a href="{{ url_for('logout') }}">Sign Out</a>
          </div>
        </div>
        <a href="{{ url_for('cart') }}">My Cart</a>
      </div>
    </div>
  </header>

  <!-- Full Banner -->
  <section class="banner">
    <img src="{{ url_for('static', filename='banner.jpg') }}" alt="Banner">
    <div class="banner-text">
      <h1>Welcome to Engineering Book Store</h1>
      <p>Here you can buy books online.</p>
    </div>
  </section>

  <!-- Features Section -->
  <section class="features">
    <div class="feature">
      <img src="{{ url_for('static', filename='icons/delivery.png') }}" alt="Fast Delivery">
      <p>Fast Delivery</p>
    </div>
    <div class="feature">
      <img src="{{ url_for('static', filename='icons/verified.png') }}" alt="Verified Company">
      <p>Verified Company</p>
    </div>
    <div class="feature">
      <img src="{{ url_for('static', filename='icons/payment.png') }}" alt="Secure Payment">
      <p>Secure Online Payment</p>
    </div>
    <div class="feature">
      <img src="{{ url_for('static', filename='icons/cash.png') }}" alt="Cash on Delivery">
      <p>Cash on Delivery</p>
    </div>
  </section>

  <!-- Latest Books Section -->
  <section class="latest-books">
    <h2>Latest Books</h2>
    <div class="book-container">

      <!-- Example Book Card -->
      <div class="book-card">
        <img src="{{ url_for('static', filename='books/book1.jpg') }}" alt="Book 1">
        <h3>Graphics and Design</h3>
        <p class="author">Pradeep Jain</p>
        <p class="price">Price: Rs 300</p>
        <button class="add-cart">üõí Add To Cart</button>
      </div>

      <div class="book-card">
        <img src="{{ url_for('static', filename='books/book2.jpg') }}" alt="Book 2">
        <h3>Mechanical Engineering</h3>
        <p class="author">Charles Bauekar</p>
        <p class="price">Price: Rs 900</p>
        <button class="add-cart">üõí Add To Cart</button>
      </div>

      <div class="book-card">
        <img src="{{ url_for('static', filename='books/book3.jpg') }}" alt="Book 3">
        <h3>Electronic Engineering</h3>
        <p class="author">D.C Tayal</p>
        <p class="price">Price: Rs 500</p>
        <button class="add-cart">üõí Add To Cart</button>
      </div>

      <div class="book-card">
        <img src="{{ url_for('static', filename='books/book4.jpg') }}" alt="Book 4">
        <h3>Software Engineering</h3>
        <p class="author">Amarjeet Singh</p>
        <p class="price">Price: Rs 500</p>
        <button class="add-cart">üõí Add To Cart</button>
      </div>

      <div class="book-card">
        <img src="{{ url_for('static', filename='books/book5.jpg') }}" alt="Book 5">
        <h3>Telecommunication Engineering</h3>
        <p class="author">Shalini Verma</p>
        <p class="price">Price: Rs 1000</p>
        <button class="add-cart">üõí Add To Cart</button>
      </div>

    </div>
  </section>

<section class="book-categories">
  <h2 class="categories-heading">üìö Book Categories</h2>

  <div class="categories-scroll-container">
    <div class="categories-container">

      <a href="{{ url_for('computer') }}" class="category-card">
        <img src="{{ url_for('static', filename='books/computer_engineering.jpg') }}" alt="Computer Engineering">
        <h3>Computer Engineering</h3>
      </a>

      <a href="{{ url_for('electronics') }}" class="category-card">
        <img src="{{ url_for('static', filename='books/electronic_engineering.jpg') }}" alt="Electronics Engineering">
        <h3>Electronics Engineering</h3>
      </a>

      <a href="{{ url_for('mechanical') }}" class="category-card">
        <img src="{{ url_for('static', filename='books/mechanical_engineering.jpg') }}" alt="Mechanical Engineering">
        <h3>Mechanical Engineering</h3>
      </a>

      <a href="{{ url_for('it') }}" class="category-card">
        <img src="{{ url_for('static', filename='books/Information_Technology.jpg') }}" alt="Information Technology">
        <h3>Information Technology</h3>
      </a>

      <a href="{{ url_for('aerospace') }}" class="category-card">
        <img src="{{ url_for('static', filename='books/aerospace_engineering.jpg') }}" alt="Aerospace Engineering">
        <h3>Aerospace Engineering</h3>
      </a>

      <a href="{{ url_for('civil') }}" class="category-card">
        <img src="{{ url_for('static', filename='books/civil_engineering.jpg') }}" alt="Civil Engineering">
        <h3>Civil Engineering</h3>
      </a>

      <a href="{{ url_for('automobile') }}" class="category-card">
        <img src="{{ url_for('static', filename='books/automobile_engineering.jpg') }}" alt="Automobile Engineering">
        <h3>Automobile Engineering</h3>
      </a>

      <a href="{{ url_for('chemical') }}" class="category-card">
        <img src="{{ url_for('static', filename='books/chemical_engineering.jpg') }}" alt="Chemical Engineering">
        <h3>Chemical Engineering</h3>
      </a>

      <a href="{{ url_for('biomedical') }}" class="category-card">
        <img src="{{ url_for('static', filename='books/biomedical_engineering.jpg') }}" alt="Biomedical Engineering">
        <h3>Biomedical Engineering</h3>
      </a>

    </div>
  </div>
</section>

</body>
</html>
<!-- Stats Section -->
<section class="stats-section">
  <div class="stat-box">
    <p>Total Users</p>
    <img src="{{ url_for('static', filename='icons/user.png') }}" alt="Users Icon">
    <h4>13</h4>
  </div>
  <div class="stat-box">
    <p>Total Books</p>
    <img src="{{ url_for('static', filename='icons/book.png') }}" alt="Books Icon">
    <h4>100</h4>
  </div>
  <div class="stat-box">
    <p>Total Sales</p>
    <img src="{{ url_for('static', filename='icons/sales.png') }}" alt="Sales Icon">
    <h4>153</h4>
  </div>
</section>

<!-- Footer Section -->
<footer class="footer">
  <div class="footer-top">
    <div class="footer-box">
      <h3>Engineering Book Store</h3>
      <p>Engineering Book store is an online web application where the customer can purchase engineering books online. Through a web browser the customers can search for a book by its title or author, later can add to the shopping cart and finally purchase using credit card transaction.</p>
    </div>
    <div class="footer-box">
      <h3>Quick Links</h3>
      <ul>
        <li><a href="#">Book Category</a></li>
        <li><a href="#">FAQs</a></li>
        <li><a href="#">Contact Us</a></li>
        <li><a href="#">About Us</a></li>
        <li><a href="#">Terms and Conditions</a></li>
        <li><a href="#">Privacy Policy</a></li>
      </ul>
    </div>
    <div class="footer-box">
      <h3>Contact Details</h3>
      <p>üìç New Panvel, Maharashtra, India</p>
      <p>üìû +92 3092367312</p>
      <p>‚úâÔ∏è onlinebookstore@gmail.com</p>
    </div>
    <div class="footer-box">
      <h3>Follow Us</h3>
      <p><a href="#">üìò facebook.com/Online_Book_Store</a></p>
      <p><a href="#">üì∏ instagram.com/onlinebookstore</a></p>
      <p><a href="#">üê¶ twitter.com/online_Book_Store</a></p>
      <p><a href="#">‚ñ∂Ô∏è youtube.com/OnlineBookStore</a></p>
    </div>
  </div>
  <div class="footer-bottom">
    <p class="copyright">¬© CopyRight 2025 Online Book Store. All Right Reserved</p>
  </div>
</footer>

<script>
const searchInput = document.getElementById("searchInput");
const searchBtn = document.getElementById("searchBtn");
const suggestionsList = document.getElementById("suggestionsList");

// üîç Fetch suggestions dynamically
searchInput.addEventListener("input", async () => {
  const query = searchInput.value.trim();

  // Hide if too short
  if (query.length < 2) {
    suggestionsList.style.display = "none";
    return;
  }

  try {
    // ‚úÖ Fetch from Flask JSON route
    const res = await fetch(`/search_suggestions?query=${encodeURIComponent(query)}`);
    const data = await res.json();

    // Clear old suggestions
    suggestionsList.innerHTML = "";

    if (data.length > 0) {
      data.forEach(book => {
        const li = document.createElement("li");
        li.textContent = book;

        // ‚úÖ When user clicks a suggestion
        li.addEventListener("click", () => {
          searchInput.value = book;
          suggestionsList.style.display = "none";

          // Redirect to Flask route to render HTML
          window.location.href = `/search_suggestions?query=${encodeURIComponent(book)}&mode=page`;
        });

        suggestionsList.appendChild(li);
      });

      suggestionsList.style.display = "block";
    } else {
      suggestionsList.style.display = "none";
    }

  } catch (error) {
    console.error("‚ö†Ô∏è Error fetching suggestions:", error);
    suggestionsList.style.display = "none";
  }
});

// ‚úÖ Clicking search button
searchBtn.addEventListener("click", () => {
  const book = searchInput.value.trim();
  if (book) {
    // Redirect to results page mode
    window.location.href = `/search_suggestions?query=${encodeURIComponent(book)}&mode=page`;
  } else {
    alert("Please enter a book name to search!");
  }
});

// ‚úÖ Pressing Enter key
searchInput.addEventListener("keypress", (e) => {
  if (e.key === "Enter") {
    e.preventDefault();
    const book = searchInput.value.trim();
    if (book) {
      window.location.href = `/search_suggestions?query=${encodeURIComponent(book)}&mode=page`;
    } else {
      alert("Please enter a book name to search!");
    }
  }
});

// ‚úÖ Hide dropdown when clicking outside
document.addEventListener("click", (e) => {
  if (!e.target.closest(".search-cart")) {
    suggestionsList.style.display = "none";
  }
});
</script>